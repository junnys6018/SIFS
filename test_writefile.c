#include <stdio.h>#include <stdlib.h>#include <unistd.h>#include "sifs.h"#include "testutils.h"// Invalid argumentvoid test_error_SIFS_EINVAL(void){	printf("RUNNING TEST ERROR EINVAL\n");	char* data = "Hello";	size_t nbytes = 6;	int i = SIFS_writefile(NULL, '\0', data, nbytes);	if (i == 1 && SIFS_errno == SIFS_EINVAL)	{		printf("TEST PASSED\n");	}	else		printf("TEST FAILED\n");}// Cannot create volumevoid test_error_SIFS_ECREATE(void){}// No such volumevoid test_error_SIFS_ENOVOL(void){	printf("RUNNING TEST ERROR ENOVOL\n");	char* data = "Hello";	size_t nbytes = 6;	int i = SIFS_writefile("NON_EXISTENT_VOLUME", "FILEA", data, nbytes);	if (i == 1 && SIFS_errno == SIFS_ENOVOL)	{		printf("TEST PASSED\n");	}	else		printf("TEST FAILED\n");}// No such file or directory entryvoid test_error_SIFS_ENOENT(void){	printf("RUNNING TEST ERROR ENOENT\n");	remove("volume");	SIFS_mkvolume("volume", 1024, 8);	char* data = "Hello";	size_t nbytes = 6;	int i = SIFS_writefile("volume", "FILE1/FILE2", data, nbytes);	if (i == 1 && SIFS_errno == SIFS_ENOENT)	{		printf("TEST PASSED\n");	}	else		printf("TEST FAILED\n");}// Volume, file or directory already existsvoid test_error_SIFS_EEXIST(void){	printf("RUNNING TEST ERROR EEXIST\n");	remove("volume");	SIFS_mkvolume("volume", 1024, 8);	char* data = "Hello";	size_t nbytes = 6;	SIFS_writefile("volume", "t.txt", data, nbytes);	int i = SIFS_writefile("volume", "t.txt", data, nbytes);	if (i == 1 && SIFS_errno == SIFS_EEXIST)	{		printf("TEST PASSED\n");	}	else	{		printf("TEST FAILED %i\n", i);		SIFS_perror(NULL);	}}// Not a volumevoid test_error_SIFS_ENOTVOL(void){	printf("RUNNING TEST ERROR ENOTVOL\n");	char* data = "Hello";	size_t nbytes = 6;	int i = SIFS_writefile("test_writefile.c", "t.txt", data, nbytes);	if (i == 1 && SIFS_errno == SIFS_ENOTVOL)	{		printf("TEST PASSED\n");	}	else		printf("TEST FAILED\n");}// Not a directoryvoid test_error_SIFS_ENOTDIR(void){}// Not a filevoid test_error_SIFS_ENOTFILE(void){}// Too many directory or file entriesvoid test_error_SIFS_EMAXENTRY(void){	// FILEBLOCK HAS TOO MANY ENTIRES	printf("RUNNING TEST ERROR EMAXENTRY (1)\n");	remove("volume");	SIFS_mkvolume("volume", 1024, 64);	char* data = "Hello";	size_t nbytes = 6;	for (int i = 0; i < 23; i++)	{		char name[2] = "";		name[0] = 'A' + i;		SIFS_writefile("volume", name, data, nbytes);	}	// Place 24th file in other directory as to not fill up directory block	SIFS_mkdir("volume", "FILE");	SIFS_writefile("volume", "FILE/t.txt", data, nbytes);	int i = SIFS_writefile("volume", "ZZ", data, nbytes);	if (i == 1 && SIFS_errno == SIFS_EMAXENTRY)	{		printf("TEST PASSED\n");	}	else	{		printf("TEST FAILED\n");	}	// DIRBLOCK HAS TOO MANY ENTRIES	printf("RUNNING TEST ERROR EMAXENTRY (2)\n");	remove("volume");	SIFS_mkvolume("volume", 1024, 64);	for (int i = 0; i < 24; i++)	{		char name[2] = "";		name[0] = 'A' + i;		SIFS_writefile("volume", name, name, 2);	}	i = SIFS_writefile("volume", "ZZ", data, nbytes);	if (i == 1 && SIFS_errno == SIFS_EMAXENTRY)	{		printf("TEST PASSED\n");	}	else	{		printf("TEST FAILED\n");	}}// No space left on volumevoid test_error_SIFS_ENOSPC(void){	printf("RUNNING TEST ERROR ENOSPC\n");	remove("volume");	SIFS_mkvolume("volume", 1024, 8);	char* data = malloc(1024 * 4); // 4 blocks	SIFS_writefile("volume", "FILEA", data, 1024 * 4);	data[0] = 'a';	int i = SIFS_writefile("volume", "FILEB", data, 1024 * 4);	if (i == 1 && SIFS_errno == SIFS_ENOSPC)	{		printf("TEST PASSED\n");	}	else	{		printf("TEST FAILED\n");	}	free(data);}// Memory allocation failedvoid test_error_SIFS_ENOMEM(void){}// Not yet implementedvoid test_error_SIFS_ENOTYET(void){}int main(int argcount, char* argvalue[]){	test_error_SIFS_EINVAL();	test_error_SIFS_ECREATE();	test_error_SIFS_ENOVOL();	test_error_SIFS_ENOENT();	test_error_SIFS_EEXIST();	test_error_SIFS_ENOTVOL();	test_error_SIFS_ENOTDIR();	test_error_SIFS_ENOTFILE();	test_error_SIFS_EMAXENTRY();	test_error_SIFS_ENOSPC();	test_error_SIFS_ENOMEM();	test_error_SIFS_ENOTYET();	remove("volume");	return 0;}