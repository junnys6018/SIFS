#include <stdio.h>#include <unistd.h>#include "sifs.h"#include "testutils.h"// Invalid argumentvoid test_error_SIFS_EINVAL(void){	printf("RUNNING TEST ERROR EINVAL\n");	remove("volume");	SIFS_mkvolume("volume", 1024, 8);	SIFS_mkdir("volume", "DIR");	int i = SIFS_rmdir("volume", "\0");	if (i == 1 && SIFS_errno == SIFS_EINVAL)	{		printf("TEST PASSED\n");	}	else		printf("TEST FAILED\n");}// Cannot create volumevoid test_error_SIFS_ECREATE(void){}// No such volumevoid test_error_SIFS_ENOVOL(void){	printf("RUNNING TEST ERROR ENOVOL\n");	int i = SIFS_rmdir("NON_EXISTENT_VOLUME", "FILEA");	if (i == 1 && SIFS_errno == SIFS_ENOVOL)	{		printf("TEST PASSED\n");	}	else		printf("TEST FAILED\n");}// No such file or directory entryvoid test_error_SIFS_ENOENT(void){	printf("RUNNING TEST ERROR ENOENT\n");	remove("volume");	SIFS_mkvolume("volume", 1024, 8);	SIFS_mkdir("volume", "FILE1");	SIFS_mkdir("volume", "FILE1/FILE2");	if (SIFS_rmdir("volume", "FILE1/FILE2") == 1)	{		printf("TEST FAILED\n");		return;	}	int i = SIFS_rmdir("volume", "FILE1/FILE2");	if (i == 1 && SIFS_errno == SIFS_ENOENT)	{		printf("TEST PASSED\n");	}	else		printf("TEST FAILED\n");}// Volume, file or directory already existsvoid test_error_SIFS_EEXIST(void){}// Not a volumevoid test_error_SIFS_ENOTVOL(void){	printf("RUNNING TEST ERROR ENOTVOL\n");	int i = SIFS_rmdir("test_rmdir.c", "DIR");	if (i == 1 && SIFS_errno == SIFS_ENOTVOL)	{		printf("TEST PASSED\n");	}	else		printf("TEST FAILED\n");}// Not a directoryvoid test_error_SIFS_ENOTDIR(void){}// Not a filevoid test_error_SIFS_ENOTFILE(void){}// Too many directory or file entriesvoid test_error_SIFS_EMAXENTRY(void){}// No space left on volumevoid test_error_SIFS_ENOSPC(void){}// Memory allocation failedvoid test_error_SIFS_ENOMEM(void){}// Not yet implementedvoid test_error_SIFS_ENOTYET(void){}// Directory is not emptyvoid test_error_SIFS_ENOTEMPTY(void){	printf("RUNNING TEST ERROR NOTEMPTY\n");	remove("volume");	SIFS_mkvolume("volume", 1024, 8);	SIFS_mkdir("volume", "FILEA");	SIFS_mkdir("volume", "FILEA/FILEB");		int i = SIFS_rmdir("volume", "FILEA");	if (i == 1 && SIFS_errno == SIFS_ENOTEMPTY)	{		printf("TEST PASSED\n");	}	else		printf("TEST FAILED\n");}void test_root_dir(void){	printf("RUNNING TEST ROOT DIR\n");	remove("volume");	SIFS_mkvolume("volume", 1024, 8);	SIFS_mkdir("volume", "FILEA");	SIFS_mkdir("volume", "FILEB");	const char* ref[] = {		"FILEA", "FILEB"	};		if (!dircmp("volume", "\0", ref, 2))	{		printf("TEST FAILED\n");		return;	}	SIFS_rmdir("volume", "FILEA");	const char* ref2[] = {		"FILEB"	};	if (!dircmp("volume", "\0", ref2, 1))	{		printf("TEST FAILED\n");		return;	}	printf("TEST PASSED\n");}void test_nested_dir(void){	printf("RUNNING TEST NESTED DIR\n");	remove("volume");	SIFS_mkvolume("volume", 1024, 8);	SIFS_mkdir("volume", "FILEA");	SIFS_mkdir("volume", "FILEA/IMAGES");	SIFS_mkdir("volume", "FILEA/PHOTOS");	SIFS_mkdir("volume", "FILEA/WORD");	const char* ref[] = {		"IMAGES", "PHOTOS", "WORD"	};	if (!dircmp("volume", "FILEA", ref, 3))	{		printf("TEST FAILED\n");		return;	}		SIFS_rmdir("volume", "FILEA/PHOTOS");	const char* ref2[] = {		"IMAGES", "WORD"	};	if (!dircmp("volume", "FILEA", ref2, 2))	{		printf("TEST FAILED\n");		return;	}	printf("TEST PASSED\n");}int main(int argcount, char* argvalue[]){	test_error_SIFS_EINVAL();	test_error_SIFS_ECREATE();	test_error_SIFS_ENOVOL();	test_error_SIFS_ENOENT();	test_error_SIFS_EEXIST();	test_error_SIFS_ENOTVOL();	test_error_SIFS_ENOTDIR();	test_error_SIFS_ENOTFILE();	test_error_SIFS_EMAXENTRY();	test_error_SIFS_ENOSPC();	test_error_SIFS_ENOMEM();	test_error_SIFS_ENOTYET();	test_error_SIFS_ENOTEMPTY();	test_root_dir();	test_nested_dir();	remove("volume");	return 0;}